#!/usr/bin/env bash

current_version="$(
  ruby \
    -r'bundler/setup' \
    -r'args/version' \
    -e'puts Args::Version.bump!(*ARGV)' \
    "$@"
)" &&

bundle check &&

git add Gemfile.lock etc/version.yaml &&
git commit --message "Version $current_version" &&
git tag "args/v$current_version" &&
git log --oneline --graph -10
